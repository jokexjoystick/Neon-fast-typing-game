:root {
    --bg-dark: #050510; --bg-mid: #1a1a2e;
    --neon-blue: #00f3ff; --neon-pink: #ff0055; --neon-green: #00ff9d;
    --neon-gold: #ffd700; --neon-silver: #c0c0c0; --neon-bronze: #cd7f32;
    --text-color: #fff; --glass: rgba(255, 255, 255, 0.05); --panel-bg: rgba(10, 10, 25, 0.95);
}

body.lite-mode {
    --bg-dark: #e0e5ec; --bg-mid: #f0f3f9;
    --neon-blue: #2d8cf0; --neon-pink: #e05275; --neon-green: #28a745;
    --text-color: #333; --glass: rgba(255, 255, 255, 0.6); --panel-bg: rgba(255, 255, 255, 0.9);
}

body { margin: 0; background: linear-gradient(to bottom, var(--bg-dark), var(--bg-mid)); font-family: 'Courier New', monospace; color: var(--text-color); overflow: hidden; height: 100vh; user-select: none; transition: background 0.5s; }

/* NAV */
.hamburger { cursor: pointer; padding: 10px; z-index: 100; display: flex; flex-direction: column; gap: 5px; }
.hamburger .line { width: 25px; height: 3px; background: var(--neon-blue); border-radius: 2px; transition: 0.3s; }
.hamburger:hover .line { background: var(--neon-green); width: 30px; }
#side-menu { position: fixed; top: 0; left: -300px; width: 250px; height: 100%; background: var(--panel-bg); border-right: 1px solid var(--neon-blue); z-index: 2000; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; padding-top: 60px; box-shadow: 10px 0 50px rgba(0,0,0,0.5); }
#side-menu.open { left: 0; }
.menu-header { padding: 20px; font-size: 20px; font-weight: bold; color: var(--neon-blue); border-bottom: 1px solid rgba(255,255,255,0.1); }
.menu-item { background: transparent; border: none; color: var(--text-color); padding: 20px; text-align: left; font-size: 14px; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.05); font-family: inherit; font-weight: bold; display: flex; align-items: center; gap: 15px; }
.menu-item:hover { background: var(--glass); padding-left: 30px; color: var(--neon-blue); }
.menu-item.logout { color: var(--neon-pink); margin-top: auto; border-top: 1px solid var(--neon-pink); }
#nav-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1500; display: none; backdrop-filter: blur(3px); }
#nav-overlay.active { display: block; }

/* FX */
.retro-grid { position: fixed; bottom: 0; left: 0; width: 100%; height: 50%; background-image: linear-gradient(var(--neon-blue) 1px, transparent 1px), linear-gradient(90deg, var(--neon-blue) 1px, transparent 1px); background-size: 40px 40px; opacity: 0.1; transform: perspective(500px) rotateX(60deg); animation: gridMove 20s linear infinite; pointer-events: none; z-index: 0; }
@keyframes gridMove { from { background-position: 0 0; } to { background-position: 0 1000px; } }
.vignette { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, transparent 40%, #000 100%); pointer-events: none; z-index: 1; }
body.lite-mode .vignette { display: none; }

/* LAYOUT */
section { display: none; width: 100%; height: 100%; position: absolute; top: 0; left: 0; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }
section.active-screen { display: flex; animation: fadeIn 0.4s ease-out; }
@keyframes fadeIn { from{opacity:0; transform:scale(0.98);} to{opacity:1; transform:scale(1);} }

/* CONTROLS */
.neon-btn { background: var(--glass); border: 1px solid var(--neon-blue); color: var(--neon-blue); font-family: inherit; font-weight: bold; text-transform: uppercase; cursor: pointer; transition: 0.2s; backdrop-filter: blur(5px); }
.neon-btn:hover { background: var(--neon-blue); color: #fff; box-shadow: 0 0 20px var(--neon-blue); }
.neon-btn:active { transform: scale(0.95); }
.primary-btn { padding: 15px 30px; font-size: 16px; width: 100%; letter-spacing: 2px; }
.sm-btn { padding: 8px 12px; font-size: 10px; border-color: var(--neon-pink); color: var(--neon-pink); }
.sm-btn:hover { background: var(--neon-pink); color: #fff; }
.restart-btn { padding: 10px 20px; border-color: var(--neon-green); color: var(--neon-green); }
.restart-btn:hover { background: var(--neon-green); color: #fff; }
.glass-select { background: var(--glass); border: 1px solid rgba(255,255,255,0.3); color: var(--text-color); padding: 10px; outline: none; }
.glass-select option { background: #000; color: #fff; }
.circle-btn { width: 30px; height: 30px; border-radius: 50%; border: 1px solid var(--neon-blue); display: flex; justify-content: center; align-items: center; cursor: pointer; background: transparent; color: var(--neon-blue); }

.control-deck { display: flex; gap: 10px; margin-bottom: 20px; z-index: 50; background: var(--glass); padding: 10px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1); }
.login-container { text-align: center; width: 320px; }
.terminal-box, .setup-card { background: var(--panel-bg); padding: 30px; border: 1px solid var(--neon-blue); box-shadow: 0 0 20px rgba(0,0,0,0.1); border-radius: 8px; }
.glitch-title { font-size: 3rem; margin-bottom: 20px; text-shadow: 3px 3px var(--neon-pink); color: var(--text-color); }
.input-group { text-align: left; margin-bottom: 15px; }
.input-group label { font-size: 10px; color: var(--neon-green); display: block; margin-bottom: 5px; }
.input-group input, .input-group select, .input-group textarea { width: 100%; padding: 10px; background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.2); color: var(--text-color); outline:none; }
body.lite-mode .input-group input, body.lite-mode .input-group textarea { background: #fff; }
.input-group textarea { height: 100px; resize: none; }

header { position: absolute; top: 0; width: 100%; padding: 15px; display: flex; justify-content: space-between; align-items: center; z-index: 50; }
.user-badge { display: flex; align-items: center; gap: 10px; background: var(--glass); padding: 8px 15px; border-radius: 20px; border: 1px solid var(--neon-green); color: var(--text-color); }
.status-dot { width: 8px; height: 8px; background: var(--neon-green); border-radius: 50%; box-shadow: 0 0 5px var(--neon-green); }

.game-wrapper { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 800px; margin-top: 20px; }
.stats-row { display: flex; align-items: center; gap: 30px; margin-bottom: 20px; }
.hud-box { text-align: center; }
.label { font-size: 10px; color: var(--neon-blue); letter-spacing: 2px; }
.value { font-size: 28px; font-weight: bold; color: var(--text-color); }

.timer-container { width: 120px; height: 120px; position: relative; border-radius: 50%; display: flex; justify-content: center; align-items: center; overflow: hidden; }
.timer-svg { transform: rotate(-90deg); position: relative; z-index: 2; }
.bg-ring { stroke: rgba(128,128,128,0.2); stroke-width: 6; fill: none; }
.fg-ring { stroke: var(--neon-blue); stroke-width: 6; fill: none; stroke-dasharray: 339; stroke-dashoffset: 0; transition: 1s linear; }
.energy-wave { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 50%; pointer-events: none; z-index: 1; }
.wave-correct { background: var(--neon-green); animation: pulseIn 0.5s ease-out forwards; }
.wave-wrong { background: var(--neon-pink); animation: pulseIn 0.5s ease-out forwards; }
@keyframes pulseIn { 0% { width: 0; height: 0; opacity: 0.8; } 100% { width: 120%; height: 120%; opacity: 0; } }

#text-container { width: 95%; height: 140px; background: var(--panel-bg); border: 1px solid var(--neon-blue); border-radius: 10px; padding: 20px; font-size: 24px; display: flex; flex-wrap: wrap; align-content: flex-start; overflow: hidden; position: relative; box-shadow: 0 0 30px rgba(0,0,0,0.05); }
#mobile-input { position: absolute; opacity: 0; top: -1000px; }
.word { margin-right: 15px; margin-bottom: 10px; display: inline-flex; color: var(--text-color); }
.char { opacity: 0.5; transition: 0.1s; }
.char.correct { color: var(--neon-green); opacity: 1; text-shadow: 0 0 8px var(--neon-green); }
.char.wrong { color: var(--neon-pink); opacity: 1; text-shadow: 0 0 8px var(--neon-pink); border-bottom: 2px solid var(--neon-pink); }
#cursor { position: absolute; width: 2px; height: 25px; background: var(--neon-blue); box-shadow: 0 0 10px var(--neon-blue); transition: 0.1s; pointer-events: none; }

.glass-panel { background: var(--panel-bg); border: 1px solid var(--neon-blue); padding: 30px; width: 90%; max-width: 500px; text-align: center; border-radius: 12px; box-shadow: 0 0 50px rgba(0,0,0,0.1); }
.profile-header-center { display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; }
.big-flag { font-size: 50px; background: var(--glass); padding: 15px; border-radius: 50%; border: 2px solid var(--neon-blue); margin-bottom: 10px; }
.trophy-slot { margin-top: 5px; font-size: 14px; color: var(--neon-gold); font-weight: bold; }
.stats-grid { display: flex; gap: 15px; margin-bottom: 20px; }
.stat-box-p { flex: 1; background: var(--glass); padding: 15px; border: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; color: var(--text-color); }
.stat-box-p b { font-size: 24px; color: var(--neon-green); }

/* LEADERBOARD TABS */
.lb-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; }
.tab-btn { background: transparent; border: 1px solid rgba(255,255,255,0.2); color: #888; padding: 5px 15px; cursor: pointer; font-family: inherit; font-size: 10px; font-weight: bold; transition: 0.2s; }
.tab-btn.active { background: var(--neon-blue); color: #000; border-color: var(--neon-blue); }

.podium-container { display: flex; justify-content: center; align-items: flex-end; gap: 10px; margin-bottom: 20px; height: 120px; border-bottom: 1px solid rgba(128,128,128,0.2); padding-bottom: 20px; }
.podium-place { display: flex; flex-direction: column; align-items: center; justify-content: flex-end; width: 80px; text-align: center; }
.p-bar { width: 100%; border-radius: 5px 5px 0 0; display: flex; justify-content: center; align-items: flex-end; padding-bottom: 5px; font-weight: bold; color: #000; animation: growUp 0.5s ease-out backwards; }
.p-1 .p-bar { height: 80px; background: var(--neon-gold); } .p-2 .p-bar { height: 60px; background: var(--neon-silver); } .p-3 .p-bar { height: 40px; background: var(--neon-bronze); }
.p-name { font-size: 10px; margin-top: 5px; color: var(--text-color); overflow: hidden; white-space: nowrap; width: 100%; text-overflow: ellipsis; }
@keyframes growUp { from { height: 0; } }

.leaderboard-container { height: 80vh; display: flex; flex-direction: column; padding: 0; }
.lb-header { padding: 15px; border-bottom: 1px solid var(--neon-blue); display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.2); }
.table-wrap { flex: 1; overflow-y: auto; padding: 10px; }
.lb-row { display: grid; grid-template-columns: 0.5fr 2fr 1fr; padding: 12px; border-bottom: 1px solid rgba(128,128,128,0.1); font-size: 14px; align-items: center; color: var(--text-color); }

#modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; display: none; justify-content: center; align-items: center; }
.glass-modal { background: var(--panel-bg); border: 2px solid var(--neon-green); padding: 40px; text-align: center; width: 320px; box-shadow: 0 0 50px rgba(0, 255, 157, 0.2); color: var(--text-color); }
.report-row { display: flex; justify-content: space-around; margin: 30px 0; }
.val.green { color: var(--neon-green); } .val.blue { color: var(--neon-blue); }

#visual-keyboard { display: none; }
@media(min-width: 768px) { #visual-keyboard { display: block; margin-top:20px; width:600px; height:200px; position:relative; } .key{position:absolute; width:40px; height:40px; border:1px solid #777; color:var(--neon-blue); display:flex; justify-content:center; align-items:center; border-radius:4px;} .key.active{background:var(--neon-green); color:#fff;} }
